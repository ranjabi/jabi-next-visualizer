(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3779)}])},3779:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ee}});var a=s(5893),i=s(7294);function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}var n=s(7191);let o=e=>{let t,s;let a=(0,n.Qc)(e,{sourceType:"module",plugins:["jsx","typescript"]}),i=[];a.program.body.filter(e=>"ImportDeclaration"===e.type).forEach(e=>{let t=e.source.value.split("/");if("@"===t[0]){let e=t[t.length-1];e.includes(".tsx")||(e+=".tsx"),i.push(e)}});let d=a.program.body.find(e=>"ExportDefaultDeclaration"===e.type);if((null==d?void 0:d.declaration.type)==="FunctionDeclaration")s=d.declaration;else if((null==d?void 0:d.declaration.type)==="Identifier"){let e=d.declaration.name,t=a.program.body.find(t=>"FunctionDeclaration"===t.type&&t.id.name===e);if(t)s=t;else{let t=a.program.body.find(t=>"VariableDeclaration"===t.type&&t.declarations.find(t=>t.id.name===e));s=(null==t?void 0:t.declarations.find(t=>t.id.name===e)).init}}"BlockStatement"===s.body.type?t=s.body.body.find(e=>"ReturnStatement"===e.type).argument:"JSXElement"===s.body.type&&(t=s.body);let o={};return a.program.body.find(e=>"specifiers"in e&&e.specifiers.find(e=>"styled"===e.local.name))&&a.program.body.filter(e=>"VariableDeclaration"===e.type&&"styled"===e.declarations[0].init.tag.object.name).forEach(e=>{let t=e.declarations[0].init.tag.property.name;o[e.declarations[0].id.name]=t}),{parsedAst:l([],t,o)[0],importedFile:i}},l=(e,t,s)=>{let a={};if("JSXElement"===t.type){let i=t.openingElement.name.name;a={id:d().slice(0,8)+"-"+i,name:i,children:[]},s&&i in s&&a.children.push({id:"ext-styled-"+d().slice(0,6)+"-"+s[i],name:s[i],children:[]}),e.push(a)}else"JSXFragment"===t.type&&(a={id:d().slice(0,8)+"-Fragment",name:"Fragment",children:[]},e.push(a));return"children"in t&&t.children.forEach(t=>{e.length>0?l(a.children,t,s):l(e,t,s)}),e},r=e=>{1===e.children.length&&e.children[0].path.includes("index")&&(e=e.children[0]);let t=e.children.map(e=>r(e));return e.children=t,e},c=e=>{let t,s;let a=r(h(u(e)));return{initialNodes:(t=[],function e(s){let a={id:s.id||s.name,data:{...s.data,style:{bgColor:s.data.style.bgColor,color:"#ff0072"===s.data.style.bgColor?"white":"black"}},position:{x:0,y:0},type:(s.data.initialNodes.length,"custom")};t.push(a),s.children.length>0&&s.children.forEach(t=>{e(t)})}(a),t),initialEdges:(s=[],function e(t){let a=t.id||t.name;t.children.length>0&&t.children.forEach(t=>{let i=t.id||t.name,d={id:"e-".concat(a,"-TO-").concat(i),source:a,target:i,animated:!1};s.push(d),e(t)})}(a),s)}},u=e=>{let t=e.map(e=>{let t,s;let a=o(e.content),i=a.parsedAst,d=(t=[],!function e(s){let a={id:s.id||s.name,data:{label:s.name},position:{x:0,y:0}};t.push(a),s.children.length>0&&s.children.forEach(t=>{e(t)})}(i),t),n=(s=[],!function e(t){let a=t.id||t.name;t.children.length>0&&t.children.forEach(t=>{let i=t.id||t.name,d={id:"e-".concat(a,"-TO-").concat(i),source:a,target:i,animated:!1};s.push(d),e(t)})}(i),s);return{name:e.name,path:e.path,content:e.content,nodes:d,edges:n,importedFile:a.importedFile}});return t=t.map(e=>(e.importedFile.length>0&&e.importedFile.forEach((s,a)=>{let i=t.find(e=>"index.tsx"===e.name?e.path.split("/")[e.path.split("/").length-2]+".tsx"===s:e.name===s);i&&e.nodes.forEach(t=>{if(t.data.label+".tsx"===s){let a=i.nodes.map(e=>({...e,data:{label:" "+e.data.label,isExt:!0},id:"ext-"+d().slice(0,6)+"-"+e.id})),n=i.edges.map(e=>({id:"ext-"+d().slice(0,6)+"-"+e.id,source:a.find(t=>t.id.includes(e.source)).id,target:a.find(t=>t.id.includes(e.target)).id,data:{isExt:!0}}));e.nodes.push(...a),e.edges.push({id:"ext-root-"+t.id+"-TO-"+s,source:t.id,target:a[0].id}),e.edges.push(...n)}})}),e))},h=e=>{let t=e.find(e=>e.path.includes("src"))?"src/pages":"pages",s="src/pages"===t?2:1,a=d().slice(0,6)+"-root",i={id:a,name:"root",path:"",url:"",children:[],data:{id:a,label:"/",fileName:"",initialNodes:[],initialEdges:[],isShowComponents:!1,style:{color:"black",bgColor:"white"},componentsViewBounds:void 0,isLeaf:!1,isHidden:!1,isRecursive:!1,path:""}};return e.forEach(a=>{if(!a.path.includes(t))return;let n=a.path.split("/").slice(s),o=i;n.forEach((s,a)=>{if(""!==s&&"_"!==s[0]){let r=o.children.find(e=>e.name===s);if(!r){var i,l;let c="".concat(d().slice(0,6),"-").concat(s),u=e.find(e=>e.path===t+"/"+n.slice(0,a+1).join("/"));r={id:c,name:s,url:"/"+f(s),path:t+"/"+n.slice(0,a+1).join("/"),data:{id:c,fileName:s,initialNodes:u?u.nodes:[],initialEdges:u?u.edges:[],label:(i=s,("/"===(l=o.data.label)&&(l=""),"index.tsx"===i&&(i="",""!==l))?l:l+"/"+f(i)),style:{color:"black",bgColor:"white"},isShowComponents:!1,componentsViewBounds:void 0,isLeaf:!!p(s),isHidden:!1,isRecursive:!1,path:t+"/"+n.slice(0,a+1).join("/")},children:[]},o.children.push(r)}o=r}})}),i},p=e=>e.endsWith(".tsx");function f(e){return e.endsWith(".tsx")?e.slice(0,-4):e}var m=s(6851),g=s(3445);let x=e=>({nodes:e.nodes,edges:e.edges,onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange,onConnect:e.onConnect,setNodes:e.setNodes,setEdges:e.setEdges,isLayouted:e.isLayouted,setIsLayouted:e.setIsLayouted,viewType:e.viewType,setViewType:e.setViewType,selectedNode:e.selectedNode,setNodeViewToComponents:e.setNodeViewToComponents,setNodeViewToRoute:e.setNodeViewToRoute,setSelectedNode:e.setSelectedNode,setAllRoute:e.setAllRoute,setAllComponents:e.setAllComponents,focusId:e.focusId,setFocusId:e.setFocusId,setSelectedNodeId:e.setSelectedNode,isNeedToFit:e.isNeedToFit,setIsNeedToFit:e.setIsNeedToFit,routeNodeSize:e.routeNodeSize,setNodeHiddenStatus:e.setNodeHiddenStatus,setAllComponentsNodeRecursiveStatus:e.setAllComponentsNodeRecursiveStatus,recursiveView:e.recursiveView,setAllRecursiveView:e.setAllRecursiveView,setRecursiveView:e.setRecursiveView}),b=(0,g.Ue)((e,t)=>({nodes:[],edges:[],onNodesChange:s=>{e({nodes:(0,m.Fb)(s,t().nodes)})},onEdgesChange:s=>{e({edges:(0,m.yn)(s,t().edges)})},onConnect:s=>{e({edges:(0,m.Z_)(s,t().edges)})},setNodes:t=>{e({nodes:t})},setEdges:t=>{e({edges:t})},isLayouted:!1,setIsLayouted:t=>{e({isLayouted:t})},viewType:"route",setViewType:t=>{e({viewType:t})},setNodeViewToComponents:s=>{e({nodes:t().nodes.map(e=>e.id===s?(e.data={...e.data,isShowComponents:!0},e.position.x=0,e.position.y=0,{...e,width:2,height:2}):(e.position.x=0,e.position.y=0,e))})},setNodeViewToRoute:s=>{e({nodes:t().nodes.map(e=>e.id===s?(e.data={...e.data,isShowComponents:!1},e.position.x=0,e.position.y=0,{...e,width:t().routeNodeSize.width,height:t().routeNodeSize.height}):(e.position.x=0,e.position.y=0,e))})},selectedNode:void 0,setSelectedNode:s=>{e({selectedNode:t().nodes.find(e=>e.id===s)})},setComponentsViewBounds:(s,a)=>{e({nodes:t().nodes.map(e=>e.id===s?(e.data={...e.data,componentsViewBounds:a},{...e}):e)})},rawFile:[],setRawFile:t=>{e({rawFile:t})},setAllRoute:()=>{e({nodes:t().nodes.map(e=>(e.data={...e.data,isShowComponents:!1},e))})},setAllComponents:()=>{e({nodes:t().nodes.map(e=>(e.data.isLeaf&&(e.data={...e.data,isShowComponents:!0}),e))})},focusId:void 0,setFocusId:t=>{e({focusId:t})},isNeedToFit:!0,setIsNeedToFit:t=>{e({isNeedToFit:t})},routeNodeSize:{width:180,height:60},setNodeHiddenStatus:(s,a)=>{e({nodes:t().nodes.map(e=>(e.id===a&&(e.hidden=s,e.data={...e.data,isHidden:s,componentsViewBounds:void 0}),e.width=2,e.height=2,e))})},setAllComponentsNodeRecursiveStatus:s=>{e({nodes:t().nodes.map(e=>(e.data={...e.data,isRecursive:s},e))})},recursiveView:!1,setAllRecursiveView:s=>{e({recursiveView:s}),e({nodes:t().nodes.map(e=>(e.data={...e.data,isRecursive:s,componentsViewBounds:void 0},e))})},setRecursiveView:(s,a)=>{e({nodes:t().nodes.map(e=>(e.id===s&&(e.data={...e.data,isRecursive:a,componentsViewBounds:void 0},e.width=2,e.height=2),e))})}}));var v=s(7893),w=s.n(v);s(6793);let N={backgroundColor:"#B8CEFF"},y=e=>{let t=(e,t,s)=>{let a=new(w()).graphlib.Graph().setDefaultEdgeLabel(()=>({}));return a.setGraph({rankdir:s.direction}),t.forEach(e=>a.setEdge(e.source,e.target)),e.forEach(e=>a.setNode(e.id,e)),w().layout(a),{nodes:e.map(e=>{let{x:t,y:s}=a.node(e.id);return{...e,position:{x:t,y:s}}}),edges:t}},{fitView:s}=(0,m._K)(),[d,n,o]=(0,m.Rr)(e.data.initialNodes.filter(e=>!e.id.startsWith("ext"))),[l,r,c]=(0,m.ll)(e.data.initialEdges),[u,h]=(0,i.useState)(!1),p=(0,m.RX)(d),f=b(e=>e.setComponentsViewBounds);return(0,i.useEffect)(()=>{0!==p.width&&0!==p.height&&u&&(e.setBounds({...p}),f(e.data.id,{...p}))},[d]),(0,i.useEffect)(()=>{e.data.isRecursive?(n(e.data.initialNodes),r(e.data.initialEdges)):(n(e.data.initialNodes.filter(e=>!e.id.startsWith("ext"))),r(e.data.initialEdges.filter(e=>!e.id.startsWith("ext")))),h(!1)},[e.data.isRecursive]),(0,i.useEffect)(()=>{if(!u){let{nodes:e,edges:s}=t(d,l,{direction:"TB"});n([...e]),r([...s]),d.every(e=>e.width)&&h(!0)}},[d,l]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-white rounded-t pl-2 h-[".concat(32,"px] flex items-center"),children:(0,a.jsx)("p",{children:e.data.label})}),(0,a.jsx)(m.tV,{children:(0,a.jsx)("div",{style:{height:e.bounds.height+2*e.bounds.y,width:e.bounds.width+2*e.bounds.x},className:"absolute top-[".concat(32,"px]"),children:(0,a.jsx)(m.x$,{nodesDraggable:!1,panOnDrag:!1,nodes:d,edges:l,onNodesChange:o,onEdgesChange:c,style:N})})})]})};var k=function(e){return(0,a.jsxs)("div",{style:{height:e.bounds.height+2*e.bounds.y+32,width:e.bounds.width+2*e.bounds.x},onClick:e.handleClick,className:"relative",children:[(0,a.jsx)(m.HH,{type:"target",position:m.Ly.Top,id:"target"}),(0,a.jsx)(y,{...e}),(0,a.jsx)(m.HH,{type:"source",position:m.Ly.Bottom,id:"source"})]})},j=e=>(b(e=>e.setComponentsViewBounds),(0,a.jsxs)("div",{style:{border:"1px solid #1a192b",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"3px",background:e.data.style.bgColor,width:e.bounds.width,height:e.bounds.height,textAlign:"center"},onClick:e.handleClick,children:[(0,a.jsx)(m.HH,{type:"target",position:m.Ly.Top}),(0,a.jsx)("p",{className:"break-all",children:e.data.label}),(0,a.jsx)(m.HH,{type:"source",position:m.Ly.Bottom})]})),C=s(2010);function E(e){let{setSelectedNodeId:t,routeNodeSize:s}=b((0,C.N)(x)),[d,n]=(0,i.useState)({x:0,y:0,width:s.width,height:s.height});b(e=>e.setIsLayouted);let o=()=>{t(e.data.id)};b(e=>e.setComponentsViewBounds),(0,i.useEffect)(()=>{!1===e.data.isShowComponents&&n(e=>({...e,width:s.width,height:s.height}))},[e.data.isShowComponents]);let l=(0,a.jsx)(j,{bounds:d,setBounds:n,data:e.data,handleClick:o}),r=(0,a.jsx)(k,{data:e.data,bounds:d,setBounds:n,handleClick:o});return(0,a.jsx)(a.Fragment,{children:e.data.isShowComponents?r:l})}var V=s(7295),R=s.n(V),S=s(2883),T=s(512),F=s(8388);function B(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,F.m6)((0,T.W)(t))}var L=s(3083),I=s(5139);let H=(0,I.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors hover:bg-slate-100 hover:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-slate-100 data-[state=on]:text-slate-900 dark:ring-offset-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-400 dark:focus-visible:ring-slate-300 dark:data-[state=on]:bg-slate-800 dark:data-[state=on]:text-slate-50",{variants:{variant:{default:"bg-transparent",outline:"border border-slate-200 bg-transparent hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:hover:bg-slate-800 dark:hover:text-slate-50"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});i.forwardRef((e,t)=>{let{className:s,variant:i,size:d,...n}=e;return(0,a.jsx)(L.f,{ref:t,className:B(H({variant:i,size:d,className:s})),...n})}).displayName=L.f.displayName;let A=i.createContext({size:"default",variant:"default"}),_=i.forwardRef((e,t)=>{let{className:s,variant:i,size:d,children:n,...o}=e;return(0,a.jsx)(S.fC,{ref:t,className:B("flex items-center justify-center gap-1",s),...o,children:(0,a.jsx)(A.Provider,{value:{variant:i,size:d},children:n})})});_.displayName=S.fC.displayName;let z=i.forwardRef((e,t)=>{let{className:s,children:d,variant:n,size:o,...l}=e,r=i.useContext(A);return(0,a.jsx)(S.ck,{ref:t,className:B(H({variant:r.variant||n,size:r.size||o}),s),...l,children:d})});z.displayName=S.ck.displayName;var O=s(8426);let D=(0,I.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=i.forwardRef((e,t)=>{let{className:s,variant:i,size:d,asChild:n=!1,...o}=e,l=n?O.g7:"button";return(0,a.jsx)(l,{className:B(D({variant:i,size:d,className:s})),ref:t,...o})});W.displayName="Button";let X=i.forwardRef((e,t)=>{let{className:s,type:i,...d}=e;return(0,a.jsx)("input",{type:i,className:B("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",s),ref:t,...d})});X.displayName="Input";var P=s(180),G=s(8020);let J=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(P.fC,{ref:t,className:B("peer h-4 w-4 shrink-0 rounded-sm border border-slate-200 border-slate-900 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-slate-900 data-[state=checked]:text-slate-50 dark:border-slate-800 dark:border-slate-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=checked]:bg-slate-50 dark:data-[state=checked]:text-slate-900",s),...i,children:(0,a.jsx)(P.z$,{className:B("flex items-center justify-center text-current"),children:(0,a.jsx)(G.Z,{className:"h-4 w-4"})})})});J.displayName=P.fC.displayName;var K=s(761);let M=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(K.fC,{className:B("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-red-900 data-[state=unchecked]:bg-blue-900 dark:focus-visible:ring-slate-300 dark:focus-visible:ring-offset-slate-950 dark:data-[state=checked]:bg-slate-50 dark:data-[state=unchecked]:bg-slate-800",s),...i,ref:t,children:(0,a.jsx)(K.bU,{className:B("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 dark:bg-slate-950")})})});M.displayName=K.fC.displayName;var U=s(1163),Z=e=>{var t,s;let{selectedNode:d,setNodeViewToComponents:n,setNodeViewToRoute:o,setSelectedNode:l,setIsLayouted:r,isLayouted:c,setAllRoute:u,setAllComponents:h,setFocusId:p,nodes:f,setSelectedNodeId:m,setIsNeedToFit:g,setNodeHiddenStatus:v,viewType:w,setViewType:N,recursiveView:y,setAllRecursiveView:k,setRecursiveView:j}=b((0,C.N)(x)),[E,V]=(0,i.useState)(""),R=(0,U.useRouter)(),[S,T]=(0,i.useState)(""),F=(s=f.filter(e=>e.data.isLeaf),E?s.filter(e=>e.data.label.includes(E)):s),B=e=>{p(e)},L=e=>{B(e),m(e)};return(0,i.useEffect)(()=>{let e=!1;return(async()=>{let t=await fetch("http://localhost:3010/user-project-path"),s=await t.json();e||T(s.path)})(),()=>{e=!0}},[]),(0,a.jsxs)("div",{className:"flex flex-col h-[100vh]  min-w-[300px] max-w-[300px] bg-white p-4",children:[(0,a.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,a.jsx)("p",{className:"text-center",children:"Global Options"}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"font-semibold",children:"View Type:"}),(0,a.jsx)("div",{className:"flex gap-x-3 mt-2",children:(0,a.jsxs)(_,{size:"sm",type:"single",className:"flex gap-x-3 w-full",variant:"outline",value:w,onValueChange:e=>{"route"===w?(N("component"),h()):"component"===w&&(N("route"),u()),k(!1),r(!1),g(!0)},children:[(0,a.jsx)(z,{value:"route",className:"w-1/2","aria-label":"Toggle route",children:(0,a.jsx)("p",{children:"Route"})}),(0,a.jsx)(z,{value:"component",className:"w-1/2","aria-label":"Toggle component",children:(0,a.jsx)("p",{children:"Component"})})]})})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Recursive View:"}),(0,a.jsx)(M,{className:"mt-1",disabled:"route"===w,checked:y,onCheckedChange:()=>{y?k(!1):k(!0),r(!1)}})]})]}),(0,a.jsxs)("div",{className:"border border-gray-300 rounded-md p-4 mt-4",children:[(0,a.jsx)("p",{className:"text-center",children:"Selected Node Options"}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Node Name:"}),(0,a.jsx)("p",{children:null!==(t=null==d?void 0:d.data.label)&&void 0!==t?t:"None"})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"font-semibold",children:"View Type:"}),d?(0,a.jsxs)(_,{size:"sm",type:"single",className:"mt-1 flex gap-x-3 ".concat(d.data.isLeaf?"":"justify-start"),variant:"outline",value:d.data.isShowComponents?"component":"route",onValueChange:e=>{"route"==e?o(null==d?void 0:d.data.id):"component"==e&&n(null==d?void 0:d.data.id),l(d.id),r(!1)},children:[(0,a.jsx)(z,{value:"route",className:"w-1/2","aria-label":"Toggle route",children:(0,a.jsx)("p",{children:"Route"})}),d.data.isLeaf&&(0,a.jsx)(z,{value:"component",className:"w-1/2","aria-label":"Toggle component",children:(0,a.jsx)("p",{children:"Component"})})]}):(0,a.jsx)("p",{children:"None"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold mt-3",children:"Recursive View:"}),(0,a.jsx)(M,{className:"mt-1",disabled:!(null==d?void 0:d.data.isShowComponents)||!d,checked:null==d?void 0:d.data.isRecursive,onCheckedChange:()=>{d&&(d.data.isRecursive?j(null==d?void 0:d.id,!1):j(null==d?void 0:d.id,!0),l(d.id),r(!1))}})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Action:"}),(0,a.jsxs)("div",{className:"flex gap-x-2 mt-1",children:[(0,a.jsx)(W,{disabled:!d,size:"sm",onClick:()=>B(d?d.data.id:null),children:"Focus"}),(0,a.jsx)(W,{disabled:!d,size:"sm",onClick:()=>R.push("vscode://file".concat(S,"/").concat(null==d?void 0:d.data.path)),children:"Open in VSCode"})]})]})]}),(0,a.jsxs)("div",{className:"border border-gray-300 rounded-md p-4 mt-4 flex-1 overflow-auto",children:[(0,a.jsx)("p",{className:"text-center",children:"Available Routes"}),(0,a.jsx)(X,{className:"mt-4",placeholder:"Find route...",onChange:e=>V(e.target.value)}),(0,a.jsx)("div",{className:"mt-4 flex flex-col gap-y-2",children:F.map(e=>(0,a.jsxs)("div",{className:"flex gap-x-2 items-center border p-2 rounded-md",children:[(0,a.jsx)(J,{className:"rounded-sm",checked:!e.data.isHidden,onCheckedChange:()=>{e.data.isHidden?v(!1,e.id):v(!0,e.id),r(!1)}}),(0,a.jsx)("p",{className:"text-left w-full hover:cursor-pointer",onClick:()=>L(e.data.id),children:e.data.label})]},e.data.id))})]})]})};let $={"elk.algorithm":"layered","elk.layered.spacing.nodeNodeBetweenLayers":100,"elk.spacing.nodeNode":80,"elk.hierarchyHandling":"INCLUDE_CHILDREN","elk.layered.nodePlacement.strategy":"NETWORK_SIMPLEX","elk.direction":"DOWN"};function q(e){let t=new(R()),s=(0,i.useMemo)(()=>({custom:E}),[]),{nodes:d,edges:n,onNodesChange:o,onEdgesChange:l,setNodes:r,isLayouted:c,setIsLayouted:u,viewType:h,focusId:p,setFocusId:f,isNeedToFit:g,setIsNeedToFit:v,routeNodeSize:w}=b((0,C.N)(x)),{fitView:N}=(0,m._K)(),y=(e,t,s,a,i)=>{let d={id:"graph",layoutOptions:$,children:t.map(e=>{if(e.data.isShowComponents){if(e.data.componentsViewBounds){let t=e.data.componentsViewBounds.x,s=e.data.componentsViewBounds.y,a=e.data.componentsViewBounds.width,i=e.data.componentsViewBounds.height;return{...e,width:a+2*t,height:i+2*s}}return e}return e.data.isHidden?{...e,width:2,height:2}:{...e,width:w.width,height:w.height}}),edges:s};e.layout(d,{layoutOptions:{"elk.alignment":"TOP"}}).then(e=>{let{children:t}=e;null==t||t.forEach(e=>{e.position={x:e.x,y:e.y}}),t&&a(t),i&&window.requestAnimationFrame(()=>{N()})})};return(0,i.useEffect)(()=>{!c&&d.length>1&&n.length>1&&(y(t,d,n,r,g),d.filter(e=>e.data.isShowComponents&&e.data.isLeaf&&!e.data.isHidden).every(e=>{var t,s,a,i;return e.data.componentsViewBounds&&e.width===(null===(t=e.data.componentsViewBounds)||void 0===t?void 0:t.width)+2*(null===(s=e.data.componentsViewBounds)||void 0===s?void 0:s.x)&&e.height===(null===(a=e.data.componentsViewBounds)||void 0===a?void 0:a.height)+2*(null===(i=e.data.componentsViewBounds)||void 0===i?void 0:i.y)})&&(u(!0),v(!1)))},[d,n]),(0,i.useEffect)(()=>{p&&(N({nodes:[{id:p}],duration:500}),f(null))},[p,N]),(0,a.jsxs)("div",{className:"h-[100vh] w-[calc(100vw - 300px] flex",children:[(0,a.jsx)(Z,{}),(0,a.jsx)(m.x$,{nodes:d,edges:n,onNodesChange:o,onEdgesChange:l,nodeTypes:s,minZoom:.1,style:{background:"#008080"}})]})}function Q(e){return(0,a.jsx)(m.tV,{children:(0,a.jsx)(q,{})})}let Y=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setRawFile:e.setRawFile});function ee(){let{setNodes:e,setEdges:t,setRawFile:s}=b((0,C.N)(Y));return(0,i.useEffect)(()=>{let a=!1;return(async()=>{let i=await fetch("http://localhost:3010/raw-file"),d=await i.json(),n=c(d);a||(s(d),e(n.initialNodes),t(n.initialEdges))})(),()=>{a=!0}},[]),(0,a.jsx)(Q,{})}}},function(e){e.O(0,[241,797,987,654,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);