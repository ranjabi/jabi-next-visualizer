(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9374)}])},9374:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return es}});var i=s(5893),a=s(7294);function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}let d=e=>{let t=0;for(;("."===e[t]||".."===e[t])&&t<e.length;)t+=1;let s=e.slice(t);return s[s.length-1]};var o=s(7191);let l=(e,t)=>{let s,i;let a=(0,o.Qc)(e,{sourceType:"module",plugins:["jsx","typescript"]}),n=[];a.program.body.filter(e=>"ImportDeclaration"===e.type).forEach(e=>{let t=e.source.value.split("/");if("@"===t[0]){let e=t[t.length-1];e.includes(".tsx")||(e+=".tsx"),n.push(e)}else if("."===t[0]||".."===t[0]){let e=d(t);e.includes(".tsx")||(e+=".tsx"),n.push(e)}});let l=a.program.body.find(e=>"ExportDefaultDeclaration"===e.type);if((null==l?void 0:l.declaration.type)==="FunctionDeclaration")i=l.declaration;else if((null==l?void 0:l.declaration.type)==="Identifier"){let e=l.declaration.name,t=a.program.body.find(t=>"FunctionDeclaration"===t.type&&t.id.name===e);if(t)i=t;else{let t=a.program.body.find(t=>"VariableDeclaration"===t.type&&t.declarations.find(t=>t.id.name===e));i=(null==t?void 0:t.declarations.find(t=>t.id.name===e)).init}}if("BlockStatement"===i.body.type){if(!["JSXElement","JSXFragment"].includes((s=i.body.body.find(e=>"ReturnStatement"===e.type).argument).type))return{parsedAst:null,importedFile:n}}else"JSXElement"===i.body.type&&(s=i.body);let c={};return a.program.body.find(e=>"specifiers"in e&&e.specifiers.find(e=>"styled"===e.local.name))&&a.program.body.filter(e=>"VariableDeclaration"===e.type&&"styled"===e.declarations[0].init.tag.object.name).forEach(e=>{let t=e.declarations[0].init.tag.property.name;c[e.declarations[0].id.name]=t}),{parsedAst:r([],s,c,t)[0],importedFile:n}},r=(e,t,s,i)=>{let a={};if("JSXElement"===t.type){let i=t.openingElement.name.name;i||(i=t.openingElement.name.object.name+"."+t.openingElement.name.property.name),a={id:n().slice(0,8)+"-"+i,name:i,children:[]},s&&i in s&&a.children.push({id:"ext-styled-"+n().slice(0,6)+"-"+s[i],name:s[i],children:[]}),e.push(a)}else if("JSXFragment"===t.type)a={id:n().slice(0,8)+"-Fragment",name:"Fragment",children:[]},e.push(a);else if("JSXExpressionContainer"===t.type){if("ConditionalExpression"===t.expression.type){let a,d,o=t.expression.consequent;if("JSXElement"===o.type){let e=o.openingElement.name.name;a={id:n().slice(0,8)+"-"+e,name:e,children:[]}}else"JSXFragment"===o.type&&(a={id:n().slice(0,8)+"-Fragment",name:"Fragment",children:[]});a&&(e.push(a),"children"in o&&o.children.forEach(t=>{e.length>0?r(a.children,t,s,i):r(e,t,s,i)}));let l=t.expression.alternate;if("JSXElement"===l.type){let e=l.openingElement.name.name;d={id:n().slice(0,8)+"-"+e,name:e,children:[]}}else"JSXFragment"===l.type&&(d={id:n().slice(0,8)+"-Fragment",name:"Fragment",children:[]});d&&(e.push(d),"children"in l&&l.children.forEach(t=>{e.length>0?r(d.children,t,s,i):r(e,t,s,i)}))}else if("LogicalExpression"===t.expression.type&&"&&"===t.expression.operator){if("JSXElement"===t.expression.right.type){let s=t.expression.right.openingElement.name.name;s||(s=t.expression.right.openingElement.name.object.name+"."+t.expression.right.openingElement.name.property.name),e.push({id:n().slice(0,8)+"-"+s,name:s,children:[]})}else"JSXFragment"===t.expression.right.type&&e.push({id:n().slice(0,8)+"-Fragment",name:"Fragment",children:[]})}else if("CallExpression"===t.expression.type){i.includes("pages/index.tsx");let s=t.expression.arguments.find(e=>"ArrowFunctionExpression"===e.type);if(s){if("JSXElement"===s.body.type){let s=t.expression.arguments.find(e=>"ArrowFunctionExpression"===e.type).body.openingElement.name.name;e.push({id:n().slice(0,8)+"-"+s,name:s,children:[]})}else if("BlockStatement"===s.body.type){let t=s.body.body.find(e=>"ReturnStatement"===e.type).argument.openingElement.name.name;e.push({id:n().slice(0,8)+"-"+t,name:t,children:[]})}}}}return"children"in t&&t.children.forEach(t=>{e.length>0?r(a.children,t,s,i):r(e,t,s,i)}),e},c=e=>{1===e.children.length&&e.children[0].path.includes("index")&&(e=e.children[0]);let t=e.children.map(e=>c(e));return e.children=t,e},u=e=>{let t,s;let i=c(p(h(e)));return{initialNodes:(t=[],function e(s){let i={id:s.id||s.name,data:{...s.data,style:{bgColor:s.data.style.bgColor,color:"#ff0072"===s.data.style.bgColor?"white":"black"}},position:{x:0,y:0},type:(s.data.initialNodes.length,"custom")};t.push(i),s.children.length>0&&s.children.forEach(t=>{e(t)})}(i),t),initialEdges:(s=[],function e(t){let i=t.id||t.name;t.children.length>0&&t.children.forEach(t=>{let a=t.id||t.name,n={id:"e-".concat(i,"-TO-").concat(a),source:i,target:a,animated:!1};s.push(n),e(t)})}(i),s)}},h=e=>{let t=e.map(e=>{let t,s,i,a;let n=l(e.content,e.path),d=n.parsedAst;return d&&(i=[],function e(t){let s={id:t.id||t.name,data:{label:t.name},position:{x:0,y:0}};i.push(s),t.children.length>0&&t.children.forEach(t=>{e(t)})}(d),t=i,a=[],function e(t){let s=t.id||t.name;t.children.length>0&&t.children.forEach(t=>{let i=t.id||t.name,n={id:"e-".concat(s,"-TO-").concat(i),source:s,target:i,animated:!1};a.push(n),e(t)})}(d),s=a),{name:e.name,path:e.path,content:e.content,nodes:t,edges:s,importedFile:n.importedFile}});return t=t.map(e=>(e.importedFile.length>0&&e.importedFile.forEach((s,i)=>{let a=t.find(e=>"index.tsx"===e.name?e.path.split("/")[e.path.split("/").length-2]+".tsx"===s:e.name===s);a&&e.nodes.forEach(t=>{if(t.data.label+".tsx"===s){let i=a.nodes.map(e=>({...e,data:{label:" "+e.data.label,isExt:!0},id:"ext-"+n().slice(0,6)+"-"+e.id})),d=a.edges.map(e=>({id:"ext-"+n().slice(0,6)+"-"+e.id,source:i.find(t=>t.id.includes(e.source)).id,target:i.find(t=>t.id.includes(e.target)).id,data:{isExt:!0}}));e.nodes.push(...i),e.edges.push({id:"ext-root-"+t.id+"-TO-"+s,source:t.id,target:i[0].id}),e.edges.push(...d)}})}),e))},p=e=>{let t=e.find(e=>e.path.includes("src"))?"src/pages":"pages",s="src/pages"===t?2:1,i=n().slice(0,6)+"-root",a={id:i,name:"root",path:"",url:"",children:[],data:{id:i,label:"/",fileName:"",initialNodes:[],initialEdges:[],isShowComponents:!1,style:{color:"black",bgColor:"white"},componentsViewBounds:void 0,isLeaf:!1,isHidden:!1,isRecursive:!1,path:""}};return e.forEach(i=>{if(!i.path.includes(t))return;let d=i.path.split("/").slice(s),o=a;d.forEach((s,i)=>{if(""!==s&&"_"!==s[0]){let r=o.children.find(e=>e.name===s);if(!r){var a,l;let c="".concat(n().slice(0,6),"-").concat(s),u=e.find(e=>e.path===t+"/"+d.slice(0,i+1).join("/"));r={id:c,name:s,url:"/"+f(s),path:t+"/"+d.slice(0,i+1).join("/"),data:{id:c,fileName:s,initialNodes:u?u.nodes:[],initialEdges:u?u.edges:[],label:(a=s,("/"===(l=o.data.label)&&(l=""),"index.tsx"===a&&(a="",""!==l))?l:l+"/"+f(a)),style:{color:"black",bgColor:"white"},isShowComponents:!!m(s),componentsViewBounds:void 0,isLeaf:!!m(s),isHidden:!1,isRecursive:!1,path:t+"/"+d.slice(0,i+1).join("/")},children:[]},o.children.push(r)}o=r}})}),a},m=e=>e.endsWith(".tsx");function f(e){return e.endsWith(".tsx")?e.slice(0,-4):e}var g=s(6851),x=s(3445);let b=e=>({nodes:e.nodes,edges:e.edges,onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange,onConnect:e.onConnect,setNodes:e.setNodes,setEdges:e.setEdges,isLayouted:e.isLayouted,setIsLayouted:e.setIsLayouted,viewType:e.viewType,setViewType:e.setViewType,selectedNode:e.selectedNode,setNodeViewToComponents:e.setNodeViewToComponents,setNodeViewToRoute:e.setNodeViewToRoute,setSelectedNode:e.setSelectedNode,setAllRoute:e.setAllRoute,setAllComponents:e.setAllComponents,focusId:e.focusId,setFocusId:e.setFocusId,setSelectedNodeId:e.setSelectedNode,isNeedToFit:e.isNeedToFit,setIsNeedToFit:e.setIsNeedToFit,routeNodeSize:e.routeNodeSize,setNodeHiddenStatus:e.setNodeHiddenStatus,setAllComponentsNodeRecursiveStatus:e.setAllComponentsNodeRecursiveStatus,recursiveView:e.recursiveView,setAllRecursiveView:e.setAllRecursiveView,setRecursiveView:e.setRecursiveView}),v=(0,x.Ue)((e,t)=>({nodes:[],edges:[],onNodesChange:s=>{e({nodes:(0,g.Fb)(s,t().nodes)})},onEdgesChange:s=>{e({edges:(0,g.yn)(s,t().edges)})},onConnect:s=>{e({edges:(0,g.Z_)(s,t().edges)})},setNodes:t=>{e({nodes:t})},setEdges:t=>{e({edges:t})},isLayouted:!1,setIsLayouted:t=>{e({isLayouted:t})},viewType:"route",setViewType:t=>{e({viewType:t})},setNodeViewToComponents:s=>{e({nodes:t().nodes.map(e=>e.id===s?(e.data={...e.data,isShowComponents:!0},e.position.x=0,e.position.y=0,{...e,width:2,height:2}):(e.position.x=0,e.position.y=0,e))})},setNodeViewToRoute:s=>{e({nodes:t().nodes.map(e=>e.id===s?(e.data={...e.data,isShowComponents:!1},e.position.x=0,e.position.y=0,{...e,width:t().routeNodeSize.width,height:t().routeNodeSize.height}):(e.position.x=0,e.position.y=0,e))})},selectedNode:void 0,setSelectedNode:s=>{e({selectedNode:t().nodes.find(e=>e.id===s)})},setComponentsViewBounds:(s,i)=>{e({nodes:t().nodes.map(e=>e.id===s?(e.data={...e.data,componentsViewBounds:i},{...e}):e)})},rawFile:[],setRawFile:t=>{e({rawFile:t})},setAllRoute:()=>{e({nodes:t().nodes.map(e=>(e.data={...e.data,isShowComponents:!1},e))})},setAllComponents:()=>{e({nodes:t().nodes.map(e=>(e.data.isLeaf&&(e.data={...e.data,isShowComponents:!0}),e))})},focusId:void 0,setFocusId:t=>{e({focusId:t})},isNeedToFit:!0,setIsNeedToFit:t=>{e({isNeedToFit:t})},routeNodeSize:{width:180,height:60},setNodeHiddenStatus:(s,i)=>{e({nodes:t().nodes.map(e=>(e.id===i&&(e.hidden=s,e.data={...e.data,isHidden:s,componentsViewBounds:void 0}),e.width=2,e.height=2,e))})},setAllComponentsNodeRecursiveStatus:s=>{e({nodes:t().nodes.map(e=>(e.data={...e.data,isRecursive:s},e))})},recursiveView:!1,setAllRecursiveView:s=>{e({recursiveView:s}),e({nodes:t().nodes.map(e=>(e.data={...e.data,isRecursive:s,componentsViewBounds:void 0},e))})},setRecursiveView:(s,i)=>{e({nodes:t().nodes.map(e=>(e.id===s&&(e.data={...e.data,isRecursive:i,componentsViewBounds:void 0},e.width=2,e.height=2),e))})}}));var y=s(7893),w=s.n(y);s(6793);var N=e=>(0,i.jsxs)("div",{style:{border:"1px solid #1a192b",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"3px",background:"white",width:150,height:40,textAlign:"center"},onClick:e.handleClick,children:[(0,i.jsx)(g.HH,{type:"target",position:g.Ly.Top}),(0,i.jsx)("p",{className:"break-all",children:e.data.label}),(0,i.jsx)(g.HH,{type:"source",position:g.Ly.Bottom})]});let j={backgroundColor:"#B8CEFF"},k=e=>{let t=(e,t,s)=>{let i=new(w()).graphlib.Graph().setDefaultEdgeLabel(()=>({}));return i.setGraph({rankdir:s.direction}),t.forEach(e=>i.setEdge(e.source,e.target)),e.forEach(e=>i.setNode(e.id,e)),w().layout(i),{nodes:e.map(e=>{let{x:t,y:s}=i.node(e.id);return{...e,position:{x:t,y:s}}}),edges:t}},{fitView:s}=(0,g._K)(),[n,d,o]=(0,g.Rr)(e.data.initialNodes.filter(e=>!e.id.startsWith("ext"))),[l,r,c]=(0,g.ll)(e.data.initialEdges.filter(e=>!e.id.startsWith("ext"))),[u,h]=(0,a.useState)(!1),p=(0,g.RX)(n),m=v(e=>e.setComponentsViewBounds);(0,a.useEffect)(()=>{0!==p.width&&0!==p.height&&u&&(e.setBounds({...p}),m(e.data.id,{...p}))},[n]),(0,a.useEffect)(()=>{e.data.isRecursive?(d(e.data.initialNodes),r(e.data.initialEdges)):(d(e.data.initialNodes.filter(e=>!e.id.startsWith("ext"))),r(e.data.initialEdges.filter(e=>!e.id.startsWith("ext")))),h(!1)},[e.data.isRecursive]),(0,a.useEffect)(()=>{if(!u){let{nodes:e,edges:s}=t(n,l,{direction:"TB"});d([...e]),r([...s]),n.every(e=>e.width)&&h(!0)}},[n,l]);let f=(0,a.useMemo)(()=>({InnerComponentNode:N}),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"bg-white rounded-t pl-2 h-[".concat(32,"px] flex items-center"),children:(0,i.jsx)("p",{children:e.data.label})}),(0,i.jsx)(g.tV,{children:(0,i.jsx)("div",{style:{height:e.bounds.height+2*e.bounds.y,width:e.bounds.width+2*e.bounds.x},className:"absolute top-[".concat(32,"px]"),children:(0,i.jsx)(g.x$,{nodeTypes:f,nodesDraggable:!1,panOnDrag:!1,nodes:n,edges:l,onNodesChange:o,onEdgesChange:c,style:j})})})]})};var C=function(e){return(0,i.jsxs)("div",{style:{height:e.bounds.height+2*e.bounds.y+32,width:e.bounds.width+2*e.bounds.x},onClick:e.handleClick,className:"relative",children:[(0,i.jsx)(g.HH,{type:"target",position:g.Ly.Top,id:"target"}),(0,i.jsx)(k,{...e}),(0,i.jsx)(g.HH,{type:"source",position:g.Ly.Bottom,id:"source"})]})},E=e=>(v(e=>e.setComponentsViewBounds),(0,i.jsxs)("div",{style:{border:"1px solid #1a192b",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"3px",background:e.data.style.bgColor,width:e.bounds.width,height:e.bounds.height,textAlign:"center"},onClick:e.handleClick,children:[(0,i.jsx)(g.HH,{type:"target",position:g.Ly.Top}),(0,i.jsx)("p",{className:"break-all px-2",children:e.data.label}),(0,i.jsx)(g.HH,{type:"source",position:g.Ly.Bottom})]})),S=s(2010);function V(e){let{setSelectedNodeId:t,routeNodeSize:s}=v((0,S.N)(b)),[n,d]=(0,a.useState)({x:0,y:0,width:s.width,height:s.height});v(e=>e.setIsLayouted);let o=()=>{t(e.data.id)};v(e=>e.setComponentsViewBounds),(0,a.useEffect)(()=>{!1===e.data.isShowComponents&&d(e=>({...e,width:s.width,height:s.height}))},[e.data.isShowComponents]);let l=(0,i.jsx)(E,{bounds:n,setBounds:d,data:e.data,handleClick:o}),r=(0,i.jsx)(C,{data:e.data,bounds:n,setBounds:d,handleClick:o});return(0,i.jsx)(i.Fragment,{children:e.data.isShowComponents?r:l})}var R=s(7295),F=s.n(R),T=s(2883),B=s(512),L=s(8388);function H(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,L.m6)((0,B.W)(t))}var I=s(3083),A=s(5139);let _=(0,A.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors hover:bg-slate-100 hover:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-slate-100 data-[state=on]:text-slate-900 dark:ring-offset-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-400 dark:focus-visible:ring-slate-300 dark:data-[state=on]:bg-slate-800 dark:data-[state=on]:text-slate-50",{variants:{variant:{default:"bg-transparent",outline:"border border-slate-200 bg-transparent hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:hover:bg-slate-800 dark:hover:text-slate-50"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,...d}=e;return(0,i.jsx)(I.f,{ref:t,className:H(_({variant:a,size:n,className:s})),...d})}).displayName=I.f.displayName;let z=a.createContext({size:"default",variant:"default"}),X=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,children:d,...o}=e;return(0,i.jsx)(T.fC,{ref:t,className:H("flex items-center justify-center gap-1",s),...o,children:(0,i.jsx)(z.Provider,{value:{variant:a,size:n},children:d})})});X.displayName=T.fC.displayName;let O=a.forwardRef((e,t)=>{let{className:s,children:n,variant:d,size:o,...l}=e,r=a.useContext(z);return(0,i.jsx)(T.ck,{ref:t,className:H(_({variant:r.variant||d,size:r.size||o}),s),...l,children:n})});O.displayName=T.ck.displayName;var D=s(8426);let J=(0,A.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:d=!1,...o}=e,l=d?D.g7:"button";return(0,i.jsx)(l,{className:H(J({variant:a,size:n,className:s})),ref:t,...o})});W.displayName="Button";let P=a.forwardRef((e,t)=>{let{className:s,type:a,...n}=e;return(0,i.jsx)("input",{type:a,className:H("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",s),ref:t,...n})});P.displayName="Input";var M=s(180),G=s(8020);let K=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(M.fC,{ref:t,className:H("peer h-4 w-4 shrink-0 rounded-sm border border-slate-200 border-slate-900 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-slate-900 data-[state=checked]:text-slate-50 dark:border-slate-800 dark:border-slate-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=checked]:bg-slate-50 dark:data-[state=checked]:text-slate-900",s),...a,children:(0,i.jsx)(M.z$,{className:H("flex items-center justify-center text-current"),children:(0,i.jsx)(G.Z,{className:"h-4 w-4"})})})});K.displayName=M.fC.displayName;var U=s(761);let Z=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(U.fC,{className:H("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-red-900 data-[state=unchecked]:bg-blue-900 dark:focus-visible:ring-slate-300 dark:focus-visible:ring-offset-slate-950 dark:data-[state=checked]:bg-slate-50 dark:data-[state=unchecked]:bg-slate-800",s),...a,ref:t,children:(0,i.jsx)(U.bU,{className:H("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 dark:bg-slate-950")})})});Z.displayName=U.fC.displayName;var $=s(1163),q=e=>{var t,s;let{selectedNode:n,setNodeViewToComponents:d,setNodeViewToRoute:o,setSelectedNode:l,setIsLayouted:r,isLayouted:c,setAllRoute:u,setAllComponents:h,setFocusId:p,nodes:m,setSelectedNodeId:f,setIsNeedToFit:g,setNodeHiddenStatus:x,viewType:y,setViewType:w,recursiveView:N,setAllRecursiveView:j,setRecursiveView:k}=v((0,S.N)(b)),[C,E]=(0,a.useState)(""),V=(0,$.useRouter)(),[R,F]=(0,a.useState)(""),T=(s=m.filter(e=>e.data.isLeaf),C?s.filter(e=>e.data.label.includes(C)):s),B=e=>{p(e)},L=e=>{B(e),f(e)};return(0,a.useEffect)(()=>{let e=!1;return(async()=>{let t=await fetch("http://localhost:3010/user-project-path"),s=await t.json();e||F(s.path)})(),()=>{e=!0}},[]),(0,i.jsxs)("div",{className:"flex flex-col h-[100vh]  min-w-[300px] max-w-[300px] bg-white p-4",children:[(0,i.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,i.jsx)("p",{className:"text-center",children:"Global Options"}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("p",{className:"font-semibold",children:"View Type:"}),(0,i.jsx)("div",{className:"flex gap-x-3 mt-2",children:(0,i.jsxs)(X,{size:"sm",type:"single",className:"flex gap-x-3 w-full",variant:"outline",value:y,onValueChange:e=>{"route"===y?(w("component"),h()):"component"===y&&(w("route"),u()),j(!1),r(!1),g(!0)},children:[(0,i.jsx)(O,{value:"route",className:"w-1/2","aria-label":"Toggle route",children:(0,i.jsx)("p",{children:"Route"})}),(0,i.jsx)(O,{value:"component",className:"w-1/2","aria-label":"Toggle component",children:(0,i.jsx)("p",{children:"Component"})})]})})]}),(0,i.jsxs)("div",{className:"mt-3",children:[(0,i.jsx)("p",{className:"font-semibold",children:"Recursive View:"}),(0,i.jsx)(Z,{className:"mt-1",disabled:"route"===y,checked:N,onCheckedChange:()=>{N?j(!1):j(!0),r(!1)}})]})]}),(0,i.jsxs)("div",{className:"border border-gray-300 rounded-md p-4 mt-4",children:[(0,i.jsx)("p",{className:"text-center",children:"Selected Node Options"}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("p",{className:"font-semibold",children:"Node Name:"}),(0,i.jsx)("p",{children:null!==(t=null==n?void 0:n.data.label)&&void 0!==t?t:"None"})]}),(0,i.jsxs)("div",{className:"mt-3",children:[(0,i.jsx)("p",{className:"font-semibold",children:"View Type:"}),n?(0,i.jsxs)(X,{size:"sm",type:"single",className:"mt-1 flex gap-x-3 ".concat(n.data.isLeaf?"":"justify-start"),variant:"outline",value:n.data.isShowComponents?"component":"route",onValueChange:e=>{"route"==e?o(null==n?void 0:n.data.id):"component"==e&&d(null==n?void 0:n.data.id),l(n.id),r(!1)},children:[(0,i.jsx)(O,{value:"route",className:"w-1/2","aria-label":"Toggle route",children:(0,i.jsx)("p",{children:"Route"})}),n.data.isLeaf&&(0,i.jsx)(O,{value:"component",className:"w-1/2","aria-label":"Toggle component",children:(0,i.jsx)("p",{children:"Component"})})]}):(0,i.jsx)("p",{children:"None"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-semibold mt-3",children:"Recursive View:"}),(0,i.jsx)(Z,{className:"mt-1",disabled:!(null==n?void 0:n.data.isShowComponents)||!n,checked:null==n?void 0:n.data.isRecursive,onCheckedChange:()=>{n&&(n.data.isRecursive?k(null==n?void 0:n.id,!1):k(null==n?void 0:n.id,!0),l(n.id),r(!1))}})]}),(0,i.jsxs)("div",{className:"mt-3",children:[(0,i.jsx)("p",{className:"font-semibold",children:"Action:"}),(0,i.jsxs)("div",{className:"flex gap-x-2 mt-1",children:[(0,i.jsx)(W,{disabled:!n,size:"sm",onClick:()=>B(n?n.data.id:null),children:"Focus"}),(0,i.jsx)(W,{disabled:!n,size:"sm",onClick:()=>V.push("vscode://file".concat(R,"/").concat(null==n?void 0:n.data.path)),children:"Open in VSCode"})]})]})]}),(0,i.jsxs)("div",{className:"border border-gray-300 rounded-md p-4 mt-4 flex-1 overflow-auto",children:[(0,i.jsx)("p",{className:"text-center",children:"Available Routes"}),(0,i.jsx)(P,{className:"mt-4",placeholder:"Find route...",onChange:e=>E(e.target.value)}),(0,i.jsx)("div",{className:"mt-4 flex flex-col gap-y-2",children:T.map(e=>(0,i.jsxs)("div",{className:"flex gap-x-2 items-center border p-2 rounded-md",children:[(0,i.jsx)(K,{className:"rounded-sm",checked:!e.data.isHidden,onCheckedChange:()=>{e.data.isHidden?x(!1,e.id):x(!0,e.id),r(!1)}}),(0,i.jsx)("p",{className:"text-left w-full hover:cursor-pointer",onClick:()=>L(e.data.id),children:e.data.label})]},e.data.id))})]})]})};let Q={"elk.algorithm":"layered","elk.layered.spacing.nodeNodeBetweenLayers":100,"elk.spacing.nodeNode":80,"elk.hierarchyHandling":"INCLUDE_CHILDREN","elk.layered.nodePlacement.strategy":"NETWORK_SIMPLEX","elk.direction":"DOWN"};function Y(e){let t=new(F()),s=(0,a.useMemo)(()=>({custom:V}),[]),{nodes:n,edges:d,onNodesChange:o,onEdgesChange:l,setNodes:r,isLayouted:c,setIsLayouted:u,viewType:h,focusId:p,setFocusId:m,isNeedToFit:f,setIsNeedToFit:x,routeNodeSize:y}=v((0,S.N)(b)),{fitView:w}=(0,g._K)(),N=(e,t,s,i,a)=>{let n={id:"graph",layoutOptions:Q,children:t.map(e=>{if(e.data.isShowComponents){if(e.data.componentsViewBounds){let t=e.data.componentsViewBounds.x,s=e.data.componentsViewBounds.y,i=e.data.componentsViewBounds.width,a=e.data.componentsViewBounds.height;return{...e,width:i+2*t,height:a+2*s}}return e}return e.data.isHidden?{...e,width:2,height:2}:{...e,width:y.width,height:y.height}}),edges:s};e.layout(n,{layoutOptions:{"elk.alignment":"TOP"}}).then(e=>{let{children:t}=e;null==t||t.forEach(e=>{e.position={x:e.x,y:e.y}}),t&&i(t),a&&window.requestAnimationFrame(()=>{w()})})};return(0,a.useEffect)(()=>{!c&&n.length>1&&d.length>1&&(N(t,n,d,r,f),n.filter(e=>e.data.isShowComponents&&e.data.isLeaf&&!e.data.isHidden).every(e=>{var t,s,i,a;return e.data.componentsViewBounds&&e.width===(null===(t=e.data.componentsViewBounds)||void 0===t?void 0:t.width)+2*(null===(s=e.data.componentsViewBounds)||void 0===s?void 0:s.x)&&e.height===(null===(i=e.data.componentsViewBounds)||void 0===i?void 0:i.height)+2*(null===(a=e.data.componentsViewBounds)||void 0===a?void 0:a.y)})&&(u(!0),x(!1)))},[n,d]),(0,a.useEffect)(()=>{p&&(w({nodes:[{id:p}],duration:500}),m(null))},[p,w]),(0,i.jsxs)("div",{className:"h-[100vh] w-[calc(100vw - 300px] flex",children:[(0,i.jsx)(q,{}),(0,i.jsx)(g.x$,{nodes:n,edges:d,onNodesChange:o,onEdgesChange:l,nodeTypes:s,minZoom:.01,style:{background:"#008080"}})]})}function ee(e){return(0,i.jsx)(g.tV,{children:(0,i.jsx)(Y,{})})}let et=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setRawFile:e.setRawFile});function es(){let{setNodes:e,setEdges:t,setRawFile:s}=v((0,S.N)(et));return(0,a.useEffect)(()=>{let i=!1;return(async()=>{let a=await fetch("http://localhost:3010/raw-file"),n=await a.json(),d=u(n);i||(s(n),e(d.initialNodes),t(d.initialEdges))})(),()=>{i=!0}},[]),(0,i.jsx)(ee,{})}}},function(e){e.O(0,[241,797,987,654,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);